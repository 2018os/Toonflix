query collectionsForMain {
  collections(first: 4) {
    edges {
      node {
        id
        title
        description
        webtoonsConnection(first: 4) {
          pageInfo {
            hasNextPage
            hasPreviousPage
          }
          edges {
            node {
              ...webtoonCard
            }
          }
        }
      }
    }
  }
}

query webtoonForWebtoonDetail($id: ID!) {
  webtoon(id: $id) {
    id
    title
    description
    url
    thumbnail
    isPay
    isAdult
    isFinish
    platform
    authorsConnection(first: 4) {
      edges {
        node {
          id
          name
        }
      }
    }
    collectionsConnection(first: 4) {
      pageInfo {
        hasPreviousPage
        hasNextPage
      }
      edges {
        node {
          ...collectionCard
        }
      }
    }
    genres {
      code
      name
      webtoonsConnection(first: 6, after: $id) {
        pageInfo {
          hasNextPage
          hasPreviousPage
        }
        edges {
          node {
            ...webtoonCard
          }
        }
      }
    }
  }
}

query randomWebtoonsForWebtoonDetail {
  randomWebtoons(take: 6) {
    id
    thumbnail
  }
}

mutation login($email: String!, $password: String!) {
  login(input: { email: $email, password: $password }) {
    token
    user {
      id
      name
    }
  }
}

fragment webtoonCard on Webtoon {
  id
  title
  authorsConnection(first: 4) {
    edges {
      node {
        id
        name
      }
    }
  }
  genres {
    code
    name
  }
  isAdult
  isFinish
  isPay
  thumbnail
}

fragment collectionCard on Collection {
  id
  title
  webtoonsConnection(first: 4) {
    edges {
      node {
        id
        thumbnail
      }
    }
  }
}

query collectionForCollectionDetail(
  $id: ID!
  $afterWebtoonId: ID
  $afterCommentId: ID
) {
  collection(id: $id) {
    ...collection
  }
}

query searchForAddWebtoonsModal($keyword: String, $afterWebtoonId: ID) {
  search(keyword: $keyword) {
    webtoonResult(first: 8, after: $afterWebtoonId) {
      pageInfo {
        endCursor
        hasNextPage
      }
      edges {
        node {
          ...webtoonCard
        }
      }
    }
  }
}

mutation postCommentForCollectionDetail($collectionId: ID!, $message: String!) {
  postComment(input: { collectionId: $collectionId, message: $message }) {
    ...comment
  }
}

mutation updateCollectionForCollectionDetail(
  $collectionId: ID!
  $webtoonIds: [ID!]
  $afterWebtoonId: ID
  $afterCommentId: ID
) {
  updateCollection(
    input: { collectionId: $collectionId, webtoonIds: $webtoonIds }
  ) {
    ...collection
  }
}

fragment collection on Collection {
  id
  title
  description
  writer {
    id
    name
  }
  webtoons(first: 4, after: $afterWebtoonId) {
    pageInfo {
      hasNextPage
      endCursor
    }
    edges {
      node {
        ...webtoonCard
      }
    }
  }
  comments(first: 4, after: $afterCommentId) {
    ...commentsConnectionForComments
  }
}
